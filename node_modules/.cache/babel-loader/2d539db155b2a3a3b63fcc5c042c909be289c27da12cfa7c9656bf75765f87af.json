{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{BrowserRouter,Route,Switch}from\"react-router-dom\";import Footer from\"./Share/Footer/Footer\";import Header from\"./Share/Header/Header\";import Home from\"./Home/Home\";import Detail from\"./Detail/Detail\";import Cart from\"./Cart/Cart\";import SignIn from\"./Authentication/SignIn\";import SignUp from\"./Authentication/SignUp\";import Checkout from\"./Checkout/Checkout\";import History from\"./History/History\";import DetailHistory from\"./History/Component/DetailHistory\";import Shop from\"./Shop/Shop\";import Chat from\"./Share/Chat/Chat\";import{useDispatch,useSelector}from\"react-redux\";import UserAPI from\"./API/UserAPI\";import{useEffect}from\"react\";import{addSession,deleteSession}from\"./Redux/Action/ActionSession\";import{addUser}from\"./Redux/Action/ActionCart\";import ErrorPage from\"./ErrorPage/Error\";import\"./App.css\";import\"./css/custom.css\";import\"./css/style.default.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var dispatch=useDispatch();// Get IdUser từ redux khi user đã đăng nhập\nvar userId=useSelector(function(state){return state.Session.userId;});// const fullname = useSelector((state) => state.Session.fullname);\nuseEffect(function(){var autoLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,addUserSection,addUserCart;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return UserAPI.getAllData();case 3:response=_context.sent;// console.log(\"autologin:----\", response);\naddUserSection=addSession({userId:response.user.userId,email:response.user.email,fullname:response.user.fullname,roomId:response.user.roomId});addUserCart=addUser({userId:response.user.userId,listCart:response.user.cart});dispatch(addUserSection);dispatch(addUserCart);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);// console.log(error.response);\ndispatch(deleteSession({type:\"DELETE_SESSION\"}));case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function autoLogin(){return _ref.apply(this,arguments);};}();if(!userId&&localStorage.getItem(\"token\")){// console.log(\"token saved:---\", localStorage.getItem(\"token\"));\nautoLogin();}},[userId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(BrowserRouter,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",component:Home}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/detail/:id\",component:Detail}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/cart\",component:Cart}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signin\",component:SignIn}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",component:SignUp}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/checkout\",component:Checkout}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/history\",component:History}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/history/:id\",component:DetailHistory}),\" \",/*#__PURE__*/_jsx(Route,{exact:true,path:\"/shop\",component:Shop}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"*\",component:ErrorPage})]}),\" \"]}),/*#__PURE__*/_jsx(Chat,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["BrowserRouter","Route","Switch","Footer","Header","Home","Detail","Cart","SignIn","SignUp","Checkout","History","DetailHistory","Shop","Chat","useDispatch","useSelector","UserAPI","useEffect","addSession","deleteSession","addUser","ErrorPage","jsx","_jsx","jsxs","_jsxs","App","dispatch","userId","state","Session","autoLogin","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","addUserSection","addUserCart","wrap","_callee$","_context","prev","next","getAllData","sent","user","email","fullname","roomId","listCart","cart","t0","type","stop","apply","arguments","localStorage","getItem","className","children","exact","path","component"],"sources":["/Users/hoangthanh/Desktop/Code/ASM3/client/src/App.jsx"],"sourcesContent":["import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Footer from \"./Share/Footer/Footer\";\nimport Header from \"./Share/Header/Header\";\nimport Home from \"./Home/Home\";\nimport Detail from \"./Detail/Detail\";\nimport Cart from \"./Cart/Cart\";\nimport SignIn from \"./Authentication/SignIn\";\nimport SignUp from \"./Authentication/SignUp\";\nimport Checkout from \"./Checkout/Checkout\";\nimport History from \"./History/History\";\nimport DetailHistory from \"./History/Component/DetailHistory\";\nimport Shop from \"./Shop/Shop\";\nimport Chat from \"./Share/Chat/Chat\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UserAPI from \"./API/UserAPI\";\nimport { useEffect } from \"react\";\nimport { addSession, deleteSession } from \"./Redux/Action/ActionSession\";\nimport { addUser } from \"./Redux/Action/ActionCart\";\nimport ErrorPage from \"./ErrorPage/Error\";\n\nimport \"./App.css\";\nimport \"./css/custom.css\";\nimport \"./css/style.default.css\";\nfunction App() {\n  const dispatch = useDispatch();\n\n  // Get IdUser từ redux khi user đã đăng nhập\n  const userId = useSelector((state) => state.Session.userId);\n  // const fullname = useSelector((state) => state.Session.fullname);\n\n  useEffect(() => {\n    const autoLogin = async () => {\n      try {\n        const response = await UserAPI.getAllData();\n        // console.log(\"autologin:----\", response);\n        const addUserSection = addSession({\n          userId: response.user.userId,\n          email: response.user.email,\n          fullname: response.user.fullname,\n          roomId: response.user.roomId,\n        });\n\n        const addUserCart = addUser({\n          userId: response.user.userId,\n          listCart: response.user.cart,\n        });\n\n        dispatch(addUserSection);\n        dispatch(addUserCart);\n      } catch (error) {\n        // console.log(error.response);\n        dispatch(\n          deleteSession({\n            type: \"DELETE_SESSION\",\n          })\n        );\n      }\n    };\n\n    if (!userId && localStorage.getItem(\"token\")) {\n      // console.log(\"token saved:---\", localStorage.getItem(\"token\"));\n      autoLogin();\n    }\n  }, [userId]);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />{\" \"}\n          <Route exact path=\"/detail/:id\" component={Detail} />{\" \"}\n          <Route exact path=\"/cart\" component={Cart} />{\" \"}\n          <Route exact path=\"/signin\" component={SignIn} />{\" \"}\n          <Route exact path=\"/signup\" component={SignUp} />{\" \"}\n          <Route exact path=\"/checkout\" component={Checkout} />{\" \"}\n          <Route exact path=\"/history\" component={History} />{\" \"}\n          <Route exact path=\"/history/:id\" component={DetailHistory} />{\" \"}\n          <Route exact path=\"/shop\" component={Shop} />\n          <Route exact path=\"*\" component={ErrorPage} />\n        </Switch>{\" \"}\n      </BrowserRouter>\n\n      <Chat />\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}