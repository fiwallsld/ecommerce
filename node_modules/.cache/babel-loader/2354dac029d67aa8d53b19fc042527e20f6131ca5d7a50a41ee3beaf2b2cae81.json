{"ast":null,"code":"var _jsxFileName = \"/Users/hoangthanh/Desktop/Code/ASM3/client/src/App.jsx\",\n  _s = $RefreshSig$();\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Footer from \"./Share/Footer/Footer\";\nimport Header from \"./Share/Header/Header\";\nimport Home from \"./Home/Home\";\nimport Detail from \"./Detail/Detail\";\nimport Cart from \"./Cart/Cart\";\nimport SignIn from \"./Authentication/SignIn\";\nimport SignUp from \"./Authentication/SignUp\";\nimport Checkout from \"./Checkout/Checkout\";\nimport History from \"./History/History\";\nimport Shop from \"./Shop/Shop\";\nimport Chat from \"./Share/Chat/Chat\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UserAPI from \"./API/UserAPI\";\nimport { useEffect } from \"react\";\nimport { addSession, deleteSession } from \"./Redux/Action/ActionSession\";\nimport { addUser } from \"./Redux/Action/ActionCart\";\nimport ErrorPage from \"./ErrorPage/Error\";\nimport \"./App.css\";\nimport \"./css/custom.css\";\nimport \"./css/style.default.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const dispatch = useDispatch();\n\n  // Get IdUser từ redux khi user đã đăng nhập\n  const userId = useSelector(state => state.Session.userId);\n  // const fullname = useSelector((state) => state.Session.fullname);\n\n  useEffect(() => {\n    const autoLogin = async () => {\n      try {\n        const response = await UserAPI.getAllData();\n        // console.log(\"autologin:----\", response);\n        const addUserSection = addSession({\n          userId: response.user.userId,\n          email: response.user.email,\n          fullname: response.user.fullname,\n          roomId: response.user.roomId\n        });\n        const addUserCart = addUser({\n          userId: response.user.userId,\n          listCart: response.user.cart\n        });\n        dispatch(addUserSection);\n        dispatch(addUserCart);\n      } catch (error) {\n        // console.log(error.response);\n        dispatch(deleteSession({\n          type: \"DELETE_SESSION\"\n        }));\n      }\n    };\n    if (!userId && localStorage.getItem(\"token\")) {\n      // console.log(\"token saved:---\", localStorage.getItem(\"token\"));\n      autoLogin();\n    }\n  }, [userId]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Switch, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          component: Home\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/detail/:id\",\n          component: Detail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          component: Cart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signin\",\n          component: SignIn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          component: SignUp\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/checkout\",\n          component: Checkout\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/history\",\n          component: History\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/shop\",\n          component: Shop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          component: ErrorPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GicCWP22RFPg1wrXMIUi0xHGmzA=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["BrowserRouter","Route","Switch","Footer","Header","Home","Detail","Cart","SignIn","SignUp","Checkout","History","Shop","Chat","useDispatch","useSelector","UserAPI","useEffect","addSession","deleteSession","addUser","ErrorPage","jsxDEV","_jsxDEV","App","_s","dispatch","userId","state","Session","autoLogin","response","getAllData","addUserSection","user","email","fullname","roomId","addUserCart","listCart","cart","error","type","localStorage","getItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","exact","path","component","_c","$RefreshReg$"],"sources":["/Users/hoangthanh/Desktop/Code/ASM3/client/src/App.jsx"],"sourcesContent":["import { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport Footer from \"./Share/Footer/Footer\";\nimport Header from \"./Share/Header/Header\";\nimport Home from \"./Home/Home\";\nimport Detail from \"./Detail/Detail\";\nimport Cart from \"./Cart/Cart\";\nimport SignIn from \"./Authentication/SignIn\";\nimport SignUp from \"./Authentication/SignUp\";\nimport Checkout from \"./Checkout/Checkout\";\nimport History from \"./History/History\";\nimport Shop from \"./Shop/Shop\";\nimport Chat from \"./Share/Chat/Chat\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport UserAPI from \"./API/UserAPI\";\nimport { useEffect } from \"react\";\nimport { addSession, deleteSession } from \"./Redux/Action/ActionSession\";\nimport { addUser } from \"./Redux/Action/ActionCart\";\nimport ErrorPage from \"./ErrorPage/Error\";\n\nimport \"./App.css\";\nimport \"./css/custom.css\";\nimport \"./css/style.default.css\";\nfunction App() {\n  const dispatch = useDispatch();\n\n  // Get IdUser từ redux khi user đã đăng nhập\n  const userId = useSelector((state) => state.Session.userId);\n  // const fullname = useSelector((state) => state.Session.fullname);\n\n  useEffect(() => {\n    const autoLogin = async () => {\n      try {\n        const response = await UserAPI.getAllData();\n        // console.log(\"autologin:----\", response);\n        const addUserSection = addSession({\n          userId: response.user.userId,\n          email: response.user.email,\n          fullname: response.user.fullname,\n          roomId: response.user.roomId,\n        });\n\n        const addUserCart = addUser({\n          userId: response.user.userId,\n          listCart: response.user.cart,\n        });\n\n        dispatch(addUserSection);\n        dispatch(addUserCart);\n      } catch (error) {\n        // console.log(error.response);\n        dispatch(\n          deleteSession({\n            type: \"DELETE_SESSION\",\n          })\n        );\n      }\n    };\n\n    if (!userId && localStorage.getItem(\"token\")) {\n      // console.log(\"token saved:---\", localStorage.getItem(\"token\"));\n      autoLogin();\n    }\n  }, [userId]);\n\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route exact path=\"/\" component={Home} />{\" \"}\n          <Route path=\"/detail/:id\" component={Detail} />{\" \"}\n          <Route path=\"/cart\" component={Cart} />{\" \"}\n          <Route path=\"/signin\" component={SignIn} />{\" \"}\n          <Route path=\"/signup\" component={SignUp} />{\" \"}\n          <Route path=\"/checkout\" component={Checkout} />{\" \"}\n          <Route path=\"/history\" component={History} />{\" \"}\n          <Route path=\"/shop\" component={Shop} />\n          <Route path=\"*\" component={ErrorPage} />\n        </Switch>{\" \"}\n      </BrowserRouter>\n\n      <Chat />\n\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}