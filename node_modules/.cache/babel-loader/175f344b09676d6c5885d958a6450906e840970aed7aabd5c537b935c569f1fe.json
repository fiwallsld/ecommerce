{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Link,Redirect}from\"react-router-dom\";import UserAPI from\"../API/UserAPI\";import\"./Auth.css\";import queryString from\"query-string\";import MessengerAPI from\"../API/MessengerAPI\";import alertify from\"alertifyjs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUp(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),fullname=_useState2[0],setFullName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),errorRes=_useState10[0],setErrorRes=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),success=_useState12[0],setSuccess=_useState12[1];var onChangeName=function onChangeName(e){setFullName(e.target.value);};var onChangeEmail=function onChangeEmail(e){setEmail(e.target.value);};var onChangePassword=function onChangePassword(e){setPassword(e.target.value);};var onChangePhone=function onChangePhone(e){setPhone(e.target.value);};var handlerSignUp=function handlerSignUp(e){e.preventDefault();var fetchSignUp=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var params,query,response,_error$response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;params={fullname:fullname,email:email,password:password,phone:phone};query=\"?\"+queryString.stringify(params);_context.next=5;return UserAPI.postSignUp(query);case 5:response=_context.sent;// console.log(response);\nsetSuccess(true);alertify.set(\"notifier\",\"position\",\"top-middle\");alertify.success(\"Bạn Đã Đăng Ký Thành Công!\");_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);// console.log(error.response?.data);\nsetErrorRes((_error$response=_context.t0.response)===null||_error$response===void 0?void 0:_error$response.data);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function fetchSignUp(){return _ref.apply(this,arguments);};}();fetchSignUp();// Hàm này dùng để tạo các conversation cho user và admin\n// const fetchConversation = async () => {\n//   const params = {\n//     email: email,\n//     password: password,\n//   };\n//   const query = \"?\" + queryString.stringify(params);\n//   const response = await MessengerAPI.postConversation(query);\n//   // console.log(response);\n// };\n// fetchConversation();\n};return/*#__PURE__*/_jsx(\"div\",{className:\"limiter\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container-login100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-50\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"login100-form-title p-b-16\",children:\"Sign Up\"}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap-input100 validate-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input100\",value:fullname,onChange:onChangeName,type:\"text\",placeholder:\"Full Name\"})}),(errorRes===null||errorRes===void 0?void 0:errorRes.fullname)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errorRes.fullname}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap-input100 rs1 validate-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input100\",value:email,onChange:onChangeEmail,type:\"text\",placeholder:\"Email\"})}),(errorRes===null||errorRes===void 0?void 0:errorRes.email)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errorRes.email}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap-input100 rs1 validate-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input100\",value:password,onChange:onChangePassword,type:\"password\",placeholder:\"Password\"})}),(errorRes===null||errorRes===void 0?void 0:errorRes.password)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errorRes.password}),/*#__PURE__*/_jsx(\"div\",{className:\"wrap-input100 rs1 validate-input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"input100\",value:phone,onChange:onChangePhone,type:\"text\",placeholder:\"Phone\"})}),(errorRes===null||errorRes===void 0?void 0:errorRes.phone)&&/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:errorRes.phone}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-login100-form-btn m-t-20\",children:[success&&/*#__PURE__*/_jsx(Redirect,{to:\"/signin\"}),/*#__PURE__*/_jsx(\"button\",{className:\"login100-form-btn\",onClick:handlerSignUp,children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center p-t-45 p-b-4\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"txt1\",children:\"Login?\"}),\"\\xA0\",/*#__PURE__*/_jsx(Link,{to:\"/signin\",className:\"txt2 hov1\",children:\"Click\"})]})]})})});}export default SignUp;","map":{"version":3,"names":["React","useState","Link","Redirect","UserAPI","queryString","MessengerAPI","alertify","jsx","_jsx","jsxs","_jsxs","SignUp","props","_useState","_useState2","_slicedToArray","fullname","setFullName","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","_useState7","_useState8","phone","setPhone","_useState9","_useState10","errorRes","setErrorRes","_useState11","_useState12","success","setSuccess","onChangeName","e","target","value","onChangeEmail","onChangePassword","onChangePhone","handlerSignUp","preventDefault","fetchSignUp","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","params","query","response","_error$response","wrap","_callee$","_context","prev","next","stringify","postSignUp","sent","set","t0","data","stop","apply","arguments","className","children","onChange","type","placeholder","to","onClick"],"sources":["/Users/hoangthanh/Desktop/Code/ASM3/client/src/Authentication/SignUp.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport UserAPI from \"../API/UserAPI\";\nimport \"./Auth.css\";\nimport queryString from \"query-string\";\nimport MessengerAPI from \"../API/MessengerAPI\";\nimport alertify from \"alertifyjs\";\n\nSignUp.propTypes = {};\n\nfunction SignUp(props) {\n  const [fullname, setFullName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n\n  const [errorRes, setErrorRes] = useState(null);\n  const [success, setSuccess] = useState(false);\n\n  const onChangeName = (e) => {\n    setFullName(e.target.value);\n  };\n\n  const onChangeEmail = (e) => {\n    setEmail(e.target.value);\n  };\n\n  const onChangePassword = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const onChangePhone = (e) => {\n    setPhone(e.target.value);\n  };\n\n  const handlerSignUp = (e) => {\n    e.preventDefault();\n\n    const fetchSignUp = async () => {\n      try {\n        const params = {\n          fullname: fullname,\n          email: email,\n          password: password,\n          phone: phone,\n        };\n        const query = \"?\" + queryString.stringify(params);\n        const response = await UserAPI.postSignUp(query);\n        // console.log(response);\n        setSuccess(true);\n        alertify.set(\"notifier\", \"position\", \"top-middle\");\n        alertify.success(\"Bạn Đã Đăng Ký Thành Công!\");\n      } catch (error) {\n        // console.log(error.response?.data);\n        setErrorRes(error.response?.data);\n      }\n    };\n\n    fetchSignUp();\n\n    // Hàm này dùng để tạo các conversation cho user và admin\n    // const fetchConversation = async () => {\n    //   const params = {\n    //     email: email,\n    //     password: password,\n    //   };\n    //   const query = \"?\" + queryString.stringify(params);\n    //   const response = await MessengerAPI.postConversation(query);\n    //   // console.log(response);\n    // };\n\n    // fetchConversation();\n  };\n\n  return (\n    <div className=\"limiter\">\n      <div className=\"container-login100\">\n        <div className=\"wrap-login100 p-l-55 p-r-55 p-t-65 p-b-50\">\n          <span className=\"login100-form-title p-b-16\">Sign Up</span>\n          <div className=\"wrap-input100 validate-input\">\n            <input\n              className=\"input100\"\n              value={fullname}\n              onChange={onChangeName}\n              type=\"text\"\n              placeholder=\"Full Name\"\n            />\n          </div>\n          {errorRes?.fullname && (\n            <span className=\"text-danger\">{errorRes.fullname}</span>\n          )}\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={email}\n              onChange={onChangeEmail}\n              type=\"text\"\n              placeholder=\"Email\"\n            />\n          </div>\n\n          {errorRes?.email && (\n            <span className=\"text-danger\">{errorRes.email}</span>\n          )}\n\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={password}\n              onChange={onChangePassword}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          </div>\n\n          {errorRes?.password && (\n            <span className=\"text-danger\">{errorRes.password}</span>\n          )}\n\n          <div className=\"wrap-input100 rs1 validate-input\">\n            <input\n              className=\"input100\"\n              value={phone}\n              onChange={onChangePhone}\n              type=\"text\"\n              placeholder=\"Phone\"\n            />\n          </div>\n          {errorRes?.phone && (\n            <span className=\"text-danger\">{errorRes.phone}</span>\n          )}\n\n          <div className=\"container-login100-form-btn m-t-20\">\n            {success && <Redirect to={\"/signin\"} />}\n            <button className=\"login100-form-btn\" onClick={handlerSignUp}>\n              Sign Up\n            </button>\n          </div>\n\n          <div className=\"text-center p-t-45 p-b-4\">\n            <span className=\"txt1\">Login?</span>\n            &nbsp;\n            <Link to=\"/signin\" className=\"txt2 hov1\">\n              Click\n            </Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}