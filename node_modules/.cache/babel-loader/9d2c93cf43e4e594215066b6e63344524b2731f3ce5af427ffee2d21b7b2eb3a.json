{"ast":null,"code":"var initalState={userId:\"\",listCart:[]};var ReducerCart=function ReducerCart(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initalState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"RESET_CART\":// console.log(\"user: \", action.data);\nstate={userId:\"\",listCart:[]};return state;//Nhận dữ liệu id_user và thay đổi state\ncase\"ADD_USER\":// console.log(\"user: \", action.data);\nstate={userId:action.data.userId,// listCart: state.listCart,\nlistCart:action.data.listCart};return state;case\"ADD_CART\"://Lấy dữ liệu được truyền tới\nvar data_add_cart=action.data;// console.log(data_add_cart);\n//Lấy dữ liệu có sẵn trong state\nvar add_cart=state.listCart;if(add_cart.length<1){add_cart.push(data_add_cart);}else{//Tìm Vị Trí của sản phẩm đã mua\nvar indexCart=add_cart.findIndex(function(value){return value._id===data_add_cart._id;});//Tìm xem thử sản phẩm này đã mua hay chưa\nvar findCart=add_cart.find(function(value){return value._id===data_add_cart._id;});//Nếu này chưa được mua thì mình push vào\n//Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\nif(!findCart){add_cart.push(data_add_cart);// console.log(\"Push\");\n}else{add_cart[indexCart].quantity=parseInt(add_cart[indexCart].quantity)+parseInt(data_add_cart.quantity);// console.log(\"Update\");\n}}state={userId:state.userId,listCart:add_cart};console.log(state);return state;case\"DELETE_CART\"://Lấy dữ liệu được truyền tới\nvar data_delete_cart=action.data;//Lấy dữ diệu có sẵn trong state\nvar delete_cart=state.listCart;//Tìm kiểm vị trí mà cần xóa\nvar indexDelete=delete_cart.findIndex(function(value){return value.idProduct===data_delete_cart.idProduct;});//Xóa theo vị trí\ndelete_cart.splice(indexDelete,1);state={userId:state.userId,listCart:delete_cart};return state;case\"DELETE_ALL_CART\":var data_delete_all_cart=action.data;state={userId:state.userId,listCart:data_delete_all_cart};return state;case\"UPDATE_CART\":// console.log(\"HANDLE UPDATE_CART:----------\");\n// console.log(action.data);\nvar data_update_cart=action.data;// console.log(\"data_update_cart-:\", data_update_cart);\nvar update_cart=state.listCart;// console.log(\"update_cart-:\", update_cart);\nvar index=update_cart.findIndex(function(value){return value._id===data_update_cart.idProduct;});// console.log(index);\nupdate_cart[index].quantity=data_update_cart.quantity;state={userId:state.userId,listCart:update_cart};// console.log(\"END HANDLE UPDATE_CART\");\nreturn state;default:return state;}};export default ReducerCart;","map":{"version":3,"names":["initalState","userId","listCart","ReducerCart","state","arguments","length","undefined","action","type","data","data_add_cart","add_cart","push","indexCart","findIndex","value","_id","findCart","find","quantity","parseInt","console","log","data_delete_cart","delete_cart","indexDelete","idProduct","splice","data_delete_all_cart","data_update_cart","update_cart","index"],"sources":["/Users/hoangthanh/Desktop/Code/ASM3/client/src/Redux/Reducer/ReducerCart.jsx"],"sourcesContent":["let initalState = {\n  userId: \"\",\n  listCart: [],\n};\n\nconst ReducerCart = (state = initalState, action) => {\n  switch (action.type) {\n    case \"RESET_CART\":\n      // console.log(\"user: \", action.data);\n      state = {\n        userId: \"\",\n        listCart: [],\n      };\n      return state;\n\n    //Nhận dữ liệu id_user và thay đổi state\n    case \"ADD_USER\":\n      // console.log(\"user: \", action.data);\n      state = {\n        userId: action.data.userId,\n        // listCart: state.listCart,\n        listCart: action.data.listCart,\n      };\n      return state;\n    case \"ADD_CART\":\n      //Lấy dữ liệu được truyền tới\n      const data_add_cart = action.data;\n\n      // console.log(data_add_cart);\n\n      //Lấy dữ liệu có sẵn trong state\n      const add_cart = state.listCart;\n\n      if (add_cart.length < 1) {\n        add_cart.push(data_add_cart);\n      } else {\n        //Tìm Vị Trí của sản phẩm đã mua\n        const indexCart = add_cart.findIndex((value) => {\n          return value._id === data_add_cart._id;\n        });\n\n        //Tìm xem thử sản phẩm này đã mua hay chưa\n        const findCart = add_cart.find((value) => {\n          return value._id === data_add_cart._id;\n        });\n\n        //Nếu này chưa được mua thì mình push vào\n        //Còn đã từng mua rồi thì mình update tại vị trí indexCart mà mình vừa tìm được\n        if (!findCart) {\n          add_cart.push(data_add_cart);\n          // console.log(\"Push\");\n        } else {\n          add_cart[indexCart].quantity =\n            parseInt(add_cart[indexCart].quantity) +\n            parseInt(data_add_cart.quantity);\n          // console.log(\"Update\");\n        }\n      }\n\n      state = {\n        userId: state.userId,\n        listCart: add_cart,\n      };\n\n      console.log(state);\n      return state;\n\n    case \"DELETE_CART\":\n      //Lấy dữ liệu được truyền tới\n      const data_delete_cart = action.data;\n\n      //Lấy dữ diệu có sẵn trong state\n      const delete_cart = state.listCart;\n\n      //Tìm kiểm vị trí mà cần xóa\n      const indexDelete = delete_cart.findIndex((value) => {\n        return value.idProduct === data_delete_cart.idProduct;\n      });\n\n      //Xóa theo vị trí\n      delete_cart.splice(indexDelete, 1);\n\n      state = {\n        userId: state.userId,\n        listCart: delete_cart,\n      };\n\n      return state;\n\n    case \"DELETE_ALL_CART\":\n      const data_delete_all_cart = action.data;\n\n      state = {\n        userId: state.userId,\n        listCart: data_delete_all_cart,\n      };\n\n      return state;\n\n    case \"UPDATE_CART\":\n      // console.log(\"HANDLE UPDATE_CART:----------\");\n      // console.log(action.data);\n      const data_update_cart = action.data;\n\n      // console.log(\"data_update_cart-:\", data_update_cart);\n      const update_cart = state.listCart;\n      // console.log(\"update_cart-:\", update_cart);\n\n      const index = update_cart.findIndex((value) => {\n        return value._id === data_update_cart.idProduct;\n      });\n      // console.log(index);\n\n      update_cart[index].quantity = data_update_cart.quantity;\n\n      state = {\n        userId: state.userId,\n        listCart: update_cart,\n      };\n      // console.log(\"END HANDLE UPDATE_CART\");\n      return state;\n\n    default:\n      return state;\n  }\n};\n\nexport default ReducerCart;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}