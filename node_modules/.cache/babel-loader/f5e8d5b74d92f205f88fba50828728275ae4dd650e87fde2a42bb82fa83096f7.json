{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/hoangthanh/Desktop/Code/ASM3/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import queryString from\"query-string\";import RootAPI from\"./RootAPI\";var axiosClient=axios.create({baseURL:RootAPI,withCredentials:\"include\",headers:{\"content-type\":\"application/json\"},paramsSerializer:function paramsSerializer(params){return queryString.stringify(params);}});axiosClient.interceptors.request.use(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(config){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"token\");// console.log(\"Token truoc khi gui request:\", token);\nif(token)config.headers[\"Authorization\"]=\"Bearer \".concat(token);return _context.abrupt(\"return\",config);case 3:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());axiosClient.interceptors.response.use(function(response){if(response&&response.data){return response.data;}return response;},function(error){// Handle errors\nif(error.response.data.status){// Xử lý lỗi từ phản hồi HTTP\nconsole.error(\"HTTP error:\",error.response.status);throw error;}else if(error.request){// Xử lý lỗi không nhận được phản hồi từ server\nconsole.error(\"No response received from server\");}else{// Xử lý lỗi trong quá trình thiết lập yêu cầu\nconsole.error(\"Error setting up the request:\",error.message);}// Truyền lỗi để có thể xử lý nó ở các thành phần khác\n// return Promise.reject(error);\n});export default axiosClient;","map":{"version":3,"names":["axios","queryString","RootAPI","axiosClient","create","baseURL","withCredentials","headers","paramsSerializer","params","stringify","interceptors","request","use","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","config","token","wrap","_callee$","_context","prev","next","localStorage","getItem","concat","abrupt","stop","_x","apply","arguments","response","data","error","status","console","message"],"sources":["/Users/hoangthanh/Desktop/Code/ASM3/client/src/API/axiosClient.jsx"],"sourcesContent":["import axios from \"axios\";\nimport queryString from \"query-string\";\nimport RootAPI from \"./RootAPI\";\n\nconst axiosClient = axios.create({\n  baseURL: RootAPI,\n  withCredentials: \"include\",\n  headers: {\n    \"content-type\": \"application/json\",\n  },\n  paramsSerializer: (params) => queryString.stringify(params),\n});\n\naxiosClient.interceptors.request.use(async (config) => {\n  const token = localStorage.getItem(\"token\");\n  // console.log(\"Token truoc khi gui request:\", token);\n  if (token) config.headers[\"Authorization\"] = `Bearer ${token}`;\n\n  return config;\n});\n\naxiosClient.interceptors.response.use(\n  (response) => {\n    if (response && response.data) {\n      return response.data;\n    }\n    return response;\n  },\n  (error) => {\n    // Handle errors\n    if (error.response.data.status) {\n      // Xử lý lỗi từ phản hồi HTTP\n      console.error(\"HTTP error:\", error.response.status);\n      throw error;\n    } else if (error.request) {\n      // Xử lý lỗi không nhận được phản hồi từ server\n      console.error(\"No response received from server\");\n    } else {\n      // Xử lý lỗi trong quá trình thiết lập yêu cầu\n      console.error(\"Error setting up the request:\", error.message);\n    }\n\n    // Truyền lỗi để có thể xử lý nó ở các thành phần khác\n    // return Promise.reject(error);\n  }\n);\nexport default axiosClient;\n"],"mappings":"gRAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,cAAc,CACtC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAE/B,GAAM,CAAAC,WAAW,CAAGH,KAAK,CAACI,MAAM,CAAC,CAC/BC,OAAO,CAAEH,OAAO,CAChBI,eAAe,CAAE,SAAS,CAC1BC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,gBAAgB,CAAE,SAAAA,iBAACC,MAAM,QAAK,CAAAR,WAAW,CAACS,SAAS,CAACD,MAAM,CAAC,EAC7D,CAAC,CAAC,CAEFN,WAAW,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAOC,MAAM,MAAAC,KAAA,QAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAC1CL,KAAK,CAAGM,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C;AACA,GAAIP,KAAK,CAAED,MAAM,CAACZ,OAAO,CAAC,eAAe,CAAC,WAAAqB,MAAA,CAAaR,KAAK,CAAE,CAAC,OAAAG,QAAA,CAAAM,MAAA,UAExDV,MAAM,0BAAAI,QAAA,CAAAO,IAAA,MAAAZ,OAAA,GACd,mBAAAa,EAAA,SAAAjB,IAAA,CAAAkB,KAAA,MAAAC,SAAA,QAAC,CAEF9B,WAAW,CAACQ,YAAY,CAACuB,QAAQ,CAACrB,GAAG,CACnC,SAACqB,QAAQ,CAAK,CACZ,GAAIA,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAE,CAC7B,MAAO,CAAAD,QAAQ,CAACC,IAAI,CACtB,CACA,MAAO,CAAAD,QAAQ,CACjB,CAAC,CACD,SAACE,KAAK,CAAK,CACT;AACA,GAAIA,KAAK,CAACF,QAAQ,CAACC,IAAI,CAACE,MAAM,CAAE,CAC9B;AACAC,OAAO,CAACF,KAAK,CAAC,aAAa,CAAEA,KAAK,CAACF,QAAQ,CAACG,MAAM,CAAC,CACnD,KAAM,CAAAD,KAAK,CACb,CAAC,IAAM,IAAIA,KAAK,CAACxB,OAAO,CAAE,CACxB;AACA0B,OAAO,CAACF,KAAK,CAAC,kCAAkC,CAAC,CACnD,CAAC,IAAM,CACL;AACAE,OAAO,CAACF,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAACG,OAAO,CAAC,CAC/D,CAEA;AACA;AACF,CACF,CAAC,CACD,cAAe,CAAApC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}